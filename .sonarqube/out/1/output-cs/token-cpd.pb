§P
UC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Data\CatalogContext.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Data, 0
{ 
public

 

class

 
CatalogContext

 
:

  !
	DbContext

" +
{ 
public 
CatalogContext 
( 
DbContextOptions .
<. /
CatalogContext/ =
>= >
options? F
)F G
:H I
baseJ N
(N O
optionsO V
)V W
{ 	
} 	
public 
DbSet 
< 
Basket 
> 
Baskets $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
CatalogItem  
>  !
CatalogItems" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
CatalogBrand !
>! "
CatalogBrands# 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
DbSet 
< 
CatalogType  
>  !
CatalogTypes" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
Order 
> 
Orders "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
	OrderItem 
> 

OrderItems  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
builder= D
)D E
{ 	
builder 
. 
Entity 
< 
Basket !
>! "
(" #
ConfigureBasket# 2
)2 3
;3 4
builder 
. 
Entity 
< 
CatalogBrand '
>' (
(( )!
ConfigureCatalogBrand) >
)> ?
;? @
builder 
. 
Entity 
< 
CatalogType &
>& '
(' ( 
ConfigureCatalogType( <
)< =
;= >
builder 
. 
Entity 
< 
CatalogItem &
>& '
(' ( 
ConfigureCatalogItem( <
)< =
;= >
builder 
. 
Entity 
< 
Order  
>  !
(! "
ConfigureOrder" 0
)0 1
;1 2
builder 
. 
Entity 
< 
	OrderItem $
>$ %
(% &
ConfigureOrderItem& 8
)8 9
;9 :
} 	
private!! 
void!! 
ConfigureBasket!! $
(!!$ %
EntityTypeBuilder!!% 6
<!!6 7
Basket!!7 =
>!!= >
builder!!? F
)!!F G
{"" 	
var## 

navigation## 
=## 
builder## $
.##$ %
Metadata##% -
.##- .
FindNavigation##. <
(##< =
nameof##= C
(##C D
Basket##D J
.##J K
Items##K P
)##P Q
)##Q R
;##R S

navigation%% 
.%% !
SetPropertyAccessMode%% ,
(%%, -
PropertyAccessMode%%- ?
.%%? @
Field%%@ E
)%%E F
;%%F G
}&& 	
private(( 
void((  
ConfigureCatalogItem(( )
((() *
EntityTypeBuilder((* ;
<((; <
CatalogItem((< G
>((G H
builder((I P
)((P Q
{)) 	
builder** 
.** 
ToTable** 
(** 
$str** %
)**% &
;**& '
builder,, 
.,, 
Property,, 
(,, 
ci,, 
=>,,  "
ci,,# %
.,,% &
Id,,& (
),,( )
.-- '
ForSqlServerUseSequenceHiLo-- ,
(--, -
$str--- ;
)--; <
... 

IsRequired.. 
(.. 
).. 
;.. 
builder00 
.00 
Property00 
(00 
ci00 
=>00  "
ci00# %
.00% &
Name00& *
)00* +
.11 

IsRequired11 
(11 
true11  
)11  !
.22 
HasMaxLength22 
(22 
$num22  
)22  !
;22! "
builder44 
.44 
Property44 
(44 
ci44 
=>44  "
ci44# %
.44% &
Price44& +
)44+ ,
.55 

IsRequired55 
(55 
true55  
)55  !
;55! "
builder77 
.77 
Property77 
(77 
ci77 
=>77  "
ci77# %
.77% &

PictureUri77& 0
)770 1
.88 

IsRequired88 
(88 
false88 !
)88! "
;88" #
builder:: 
.:: 
HasOne:: 
(:: 
ci:: 
=>::  
ci::! #
.::# $
CatalogBrand::$ 0
)::0 1
.;; 
WithMany;; 
(;; 
);; 
.<< 
HasForeignKey<< 
(<< 
ci<< !
=><<" $
ci<<% '
.<<' (
CatalogBrandId<<( 6
)<<6 7
;<<7 8
builder>> 
.>> 
HasOne>> 
(>> 
ci>> 
=>>>  
ci>>! #
.>># $
CatalogType>>$ /
)>>/ 0
.?? 
WithMany?? 
(?? 
)?? 
.@@ 
HasForeignKey@@ 
(@@ 
ci@@ !
=>@@" $
ci@@% '
.@@' (
CatalogTypeId@@( 5
)@@5 6
;@@6 7
}AA 	
privateCC 
voidCC !
ConfigureCatalogBrandCC *
(CC* +
EntityTypeBuilderCC+ <
<CC< =
CatalogBrandCC= I
>CCI J
builderCCK R
)CCR S
{DD 	
builderEE 
.EE 
ToTableEE 
(EE 
$strEE *
)EE* +
;EE+ ,
builderGG 
.GG 
HasKeyGG 
(GG 
ciGG 
=>GG  
ciGG! #
.GG# $
IdGG$ &
)GG& '
;GG' (
builderII 
.II 
PropertyII 
(II 
ciII 
=>II  "
ciII# %
.II% &
IdII& (
)II( )
.JJ '
ForSqlServerUseSequenceHiLoJJ +
(JJ+ ,
$strJJ, @
)JJ@ A
.KK 

IsRequiredKK 
(KK 
)KK 
;KK 
builderMM 
.MM 
PropertyMM 
(MM 
cbMM 
=>MM  "
cbMM# %
.MM% &
BrandMM& +
)MM+ ,
.NN 

IsRequiredNN 
(NN 
)NN 
.OO 
HasMaxLengthOO 
(OO 
$numOO !
)OO! "
;OO" #
}PP 	
privateRR 
voidRR  
ConfigureCatalogTypeRR )
(RR) *
EntityTypeBuilderRR* ;
<RR; <
CatalogTypeRR< G
>RRG H
builderRRI P
)RRP Q
{SS 	
builderTT 
.TT 
ToTableTT 
(TT 
$strTT )
)TT) *
;TT* +
builderVV 
.VV 
HasKeyVV 
(VV 
ciVV 
=>VV  
ciVV! #
.VV# $
IdVV$ &
)VV& '
;VV' (
builderXX 
.XX 
PropertyXX 
(XX 
ciXX 
=>XX  "
ciXX# %
.XX% &
IdXX& (
)XX( )
.YY '
ForSqlServerUseSequenceHiLoYY +
(YY+ ,
$strYY, ?
)YY? @
.ZZ 

IsRequiredZZ 
(ZZ 
)ZZ 
;ZZ 
builder\\ 
.\\ 
Property\\ 
(\\ 
cb\\ 
=>\\  "
cb\\# %
.\\% &
Type\\& *
)\\* +
.]] 

IsRequired]] 
(]] 
)]] 
.^^ 
HasMaxLength^^ 
(^^ 
$num^^ !
)^^! "
;^^" #
}__ 	
privateaa 
voidaa 
ConfigureOrderaa #
(aa# $
EntityTypeBuilderaa$ 5
<aa5 6
Orderaa6 ;
>aa; <
builderaa= D
)aaD E
{bb 	
varcc 

navigationcc 
=cc 
buildercc $
.cc$ %
Metadatacc% -
.cc- .
FindNavigationcc. <
(cc< =
nameofcc= C
(ccC D
OrderccD I
.ccI J

OrderItemsccJ T
)ccT U
)ccU V
;ccV W

navigationee 
.ee !
SetPropertyAccessModeee ,
(ee, -
PropertyAccessModeee- ?
.ee? @
Fieldee@ E
)eeE F
;eeF G
buildergg 
.gg 
OwnsOnegg 
(gg 
ogg 
=>gg  
ogg! "
.gg" #
ShipToAddressgg# 0
)gg0 1
;gg1 2
}hh 	
privatejj 
voidjj 
ConfigureOrderItemjj '
(jj' (
EntityTypeBuilderjj( 9
<jj9 :
	OrderItemjj: C
>jjC D
builderjjE L
)jjL M
{kk 	
builderll 
.ll 
OwnsOnell 
(ll 
ill 
=>ll  
ill! "
.ll" #
ItemOrderedll# .
)ll. /
;ll/ 0
}mm 	
}nn 
}oo ªd
YC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Data\CatalogContextSeed.cs
	namespace		 	
	Microsoft		
 
.		 
eShopWeb		 
.		 
Infrastructure		 +
.		+ ,
Data		, 0
{

 
public 

class 
CatalogContextSeed #
{ 
public 
static 
async 
Task  
	SeedAsync! *
(* +
CatalogContext+ 9
catalogContext: H
,H I
ILoggerFactory 
loggerFactory (
,( )
int* -
?- .
retry/ 4
=5 6
$num7 8
)8 9
{ 	
int  
retryForAvailability $
=% &
retry' ,
., -
Value- 2
;2 3
try 
{ 
if 
( 
! 
catalogContext #
.# $
CatalogBrands$ 1
.1 2
Any2 5
(5 6
)6 7
)7 8
{ 
catalogContext "
." #
CatalogBrands# 0
.0 1
AddRange1 9
(9 :)
GetPreconfiguredCatalogBrands 5
(5 6
)6 7
)7 8
;8 9
await 
catalogContext (
.( )
SaveChangesAsync) 9
(9 :
): ;
;; <
} 
if 
( 
! 
catalogContext #
.# $
CatalogTypes$ 0
.0 1
Any1 4
(4 5
)5 6
)6 7
{ 
catalogContext   "
.  " #
CatalogTypes  # /
.  / 0
AddRange  0 8
(  8 9(
GetPreconfiguredCatalogTypes!! 4
(!!4 5
)!!5 6
)!!6 7
;!!7 8
await## 
catalogContext## (
.##( )
SaveChangesAsync##) 9
(##9 :
)##: ;
;##; <
}$$ 
if&& 
(&& 
!&& 
catalogContext&& #
.&&# $
CatalogItems&&$ 0
.&&0 1
Any&&1 4
(&&4 5
)&&5 6
)&&6 7
{'' 
catalogContext(( "
.((" #
CatalogItems((# /
.((/ 0
AddRange((0 8
(((8 9!
GetPreconfiguredItems)) -
())- .
))). /
)))/ 0
;))0 1
await++ 
catalogContext++ (
.++( )
SaveChangesAsync++) 9
(++9 :
)++: ;
;++; <
},, 
}-- 
catch.. 
(.. 
	Exception.. 
ex.. 
)..  
{// 
if00 
(00  
retryForAvailability00 (
<00) *
$num00+ -
)00- .
{11  
retryForAvailability22 (
++22( *
;22* +
var33 
log33 
=33 
loggerFactory33 +
.33+ ,
CreateLogger33, 8
<338 9
CatalogContextSeed339 K
>33K L
(33L M
)33M N
;33N O
log44 
.44 
LogError44  
(44  !
ex44! #
.44# $
Message44$ +
)44+ ,
;44, -
await55 
	SeedAsync55 #
(55# $
catalogContext55$ 2
,552 3
loggerFactory554 A
,55A B 
retryForAvailability55C W
)55W X
;55X Y
}66 
}77 
}88 	
static:: 
IEnumerable:: 
<:: 
CatalogBrand:: '
>::' ()
GetPreconfiguredCatalogBrands::) F
(::F G
)::G H
{;; 	
return<< 
new<< 
List<< 
<<< 
CatalogBrand<< (
><<( )
(<<) *
)<<* +
{== 
new>> 
CatalogBrand>>  
(>>  !
)>>! "
{>># $
Brand>>% *
=>>+ ,
$str>>- 4
}>>4 5
,>>5 6
new?? 
CatalogBrand??  
(??  !
)??! "
{??# $
Brand??% *
=??+ ,
$str??- 3
}??4 5
,??5 6
new@@ 
CatalogBrand@@  
(@@  !
)@@! "
{@@# $
Brand@@% *
=@@+ ,
$str@@- <
}@@= >
,@@> ?
newAA 
CatalogBrandAA  
(AA  !
)AA! "
{AA# $
BrandAA% *
=AA+ ,
$strAA- 9
}AA: ;
,AA; <
newBB 
CatalogBrandBB  
(BB  !
)BB! "
{BB# $
BrandBB% *
=BB+ ,
$strBB- 4
}BB5 6
}CC 
;CC 
}DD 	
staticFF 
IEnumerableFF 
<FF 
CatalogTypeFF &
>FF& '(
GetPreconfiguredCatalogTypesFF( D
(FFD E
)FFE F
{GG 	
returnHH 
newHH 
ListHH 
<HH 
CatalogTypeHH '
>HH' (
(HH( )
)HH) *
{II 
newJJ 
CatalogTypeJJ 
(JJ  
)JJ  !
{JJ" #
TypeJJ$ (
=JJ) *
$strJJ+ 0
}JJ0 1
,JJ1 2
newKK 
CatalogTypeKK 
(KK  
)KK  !
{KK" #
TypeKK$ (
=KK) *
$strKK+ 4
}KK5 6
,KK6 7
newLL 
CatalogTypeLL 
(LL  
)LL  !
{LL" #
TypeLL$ (
=LL) *
$strLL+ 2
}LL3 4
,LL4 5
newMM 
CatalogTypeMM 
(MM  
)MM  !
{MM" #
TypeMM$ (
=MM) *
$strMM+ =
}MM> ?
}NN 
;NN 
}OO 	
staticQQ 
IEnumerableQQ 
<QQ 
CatalogItemQQ &
>QQ& '!
GetPreconfiguredItemsQQ( =
(QQ= >
)QQ> ?
{RR 	
returnSS 
newSS 
ListSS 
<SS 
CatalogItemSS '
>SS' (
(SS( )
)SS) *
{TT 
newUU 
CatalogItemUU 
(UU  
)UU  !
{UU" #
CatalogTypeIdUU$ 1
=UU1 2
$numUU2 3
,UU3 4
CatalogBrandIdUU4 B
=UUB C
$numUUC D
,UUD E
DescriptionUUF Q
=UUR S
$strUUT o
,UUo p
NameUUq u
=UUv w
$str	UUx 
,
UU 
Price
UU 
=
UU 
$num
UU ¢
,
UU¢ £

PictureUri
UU¤ ®
=
UU¯ °
$str
UU± ê
}
UUë ì
,
UUì í
newVV 
CatalogItemVV 
(VV  
)VV  !
{VV" #
CatalogTypeIdVV$ 1
=VV1 2
$numVV2 3
,VV3 4
CatalogBrandIdVV4 B
=VVB C
$numVVC D
,VVD E
DescriptionVVF Q
=VVR S
$strVVT l
,VVl m
NameVVn r
=VVs t
$str	VVu 
,
VV 
Price
VV 
=
VV 
$num
VV 
,
VV 

PictureUri
VV §
=
VV¨ ©
$str
VVª ã
}
VVä å
,
VVå æ
newWW 
CatalogItemWW 
(WW  
)WW  !
{WW" #
CatalogTypeIdWW$ 1
=WW1 2
$numWW2 3
,WW3 4
CatalogBrandIdWW4 B
=WWB C
$numWWC D
,WWD E
DescriptionWWF Q
=WWR S
$strWWT i
,WWi j
NameWWk o
=WWp q
$str	WWr 
,
WW 
Price
WW 
=
WW 
$num
WW 
,
WW 

PictureUri
WW 
=
WW  ¡
$str
WW¢ Û
}
WWÜ Ý
,
WWÝ Þ
newXX 
CatalogItemXX 
(XX  
)XX  !
{XX" #
CatalogTypeIdXX$ 1
=XX1 2
$numXX2 3
,XX3 4
CatalogBrandIdXX4 B
=XXB C
$numXXC D
,XXD E
DescriptionXXF Q
=XXR S
$strXXT p
,XXp q
NameXXr v
=XXw x
$str	XXy 
,
XX 
Price
XX 
=
XX 
$num
XX ¡
,
XX¡ ¢

PictureUri
XX£ ­
=
XX® ¯
$str
XX° é
}
XXê ë
,
XXë ì
newYY 
CatalogItemYY 
(YY  
)YY  !
{YY" #
CatalogTypeIdYY$ 1
=YY1 2
$numYY2 3
,YY3 4
CatalogBrandIdYY4 B
=YYB C
$numYYC D
,YYD E
DescriptionYYF Q
=YYR S
$strYYT f
,YYf g
NameYYh l
=YYm n
$str	YYo 
,
YY 
Price
YY 
=
YY 
$num
YY 
,
YY 

PictureUri
YY 
=
YY 
$str
YY ×
}
YYØ Ù
,
YYÙ Ú
newZZ 
CatalogItemZZ 
(ZZ  
)ZZ  !
{ZZ" #
CatalogTypeIdZZ$ 1
=ZZ1 2
$numZZ2 3
,ZZ3 4
CatalogBrandIdZZ4 B
=ZZB C
$numZZC D
,ZZD E
DescriptionZZF Q
=ZZR S
$strZZT j
,ZZj k
NameZZl p
=ZZq r
$str	ZZs 
,
ZZ 
Price
ZZ 
=
ZZ 
$num
ZZ 
,
ZZ 

PictureUri
ZZ ¡
=
ZZ¢ £
$str
ZZ¤ Ý
}
ZZÞ ß
,
ZZß à
new[[ 
CatalogItem[[ 
([[  
)[[  !
{[[" #
CatalogTypeId[[$ 1
=[[1 2
$num[[2 3
,[[3 4
CatalogBrandId[[4 B
=[[B C
$num[[C D
,[[D E
Description[[F Q
=[[R S
$str[[T h
,[[h i
Name[[j n
=[[o p
$str	[[q 
,
[[ 
Price
[[ 
=
[[ 
$num
[[ 
,
[[ 

PictureUri
[[ 
=
[[ 
$str
[[  Ù
}
[[Û Ü
,
[[Ü Ý
new\\ 
CatalogItem\\ 
(\\  
)\\  !
{\\" #
CatalogTypeId\\$ 1
=\\1 2
$num\\2 3
,\\3 4
CatalogBrandId\\4 B
=\\B C
$num\\C D
,\\D E
Description\\F Q
=\\R S
$str\\T l
,\\l m
Name\\n r
=\\s t
$str	\\u 
,
\\ 
Price
\\ 
=
\\ 
$num
\\ 
,
\\ 

PictureUri
\\ §
=
\\¨ ©
$str
\\ª ã
}
\\ä å
,
\\å æ
new]] 
CatalogItem]] 
(]]  
)]]  !
{]]" #
CatalogTypeId]]$ 1
=]]1 2
$num]]2 3
,]]3 4
CatalogBrandId]]4 B
=]]B C
$num]]C D
,]]D E
Description]]F Q
=]]R S
$str]]T f
,]]f g
Name]]h l
=]]m n
$str	]]o 
,
]] 
Price
]] 
=
]] 
$num
]] 
,
]] 

PictureUri
]] 
=
]] 
$str
]] Õ
}
]]Ö ×
,
]]× Ø
new^^ 
CatalogItem^^ 
(^^  
)^^  !
{^^" #
CatalogTypeId^^$ 1
=^^1 2
$num^^2 3
,^^3 4
CatalogBrandId^^4 B
=^^B C
$num^^C D
,^^D E
Description^^F Q
=^^R S
$str^^T k
,^^k l
Name^^m q
=^^r s
$str	^^t 
,
^^ 
Price
^^ 
=
^^ 
$num
^^ 
,
^^ 

PictureUri
^^ £
=
^^¤ ¥
$str
^^¦ à
}
^^á â
,
^^â ã
new__ 
CatalogItem__ 
(__  
)__  !
{__" #
CatalogTypeId__$ 1
=__1 2
$num__2 3
,__3 4
CatalogBrandId__4 B
=__B C
$num__C D
,__D E
Description__F Q
=__R S
$str__T b
,__b c
Name__d h
=__i j
$str__k y
,__y z
Price	__{ 
=
__ 
$num
__ 
,
__ 

PictureUri
__ 
=
__ 
$str
__ Ð
}
__Ñ Ò
,
__Ò Ó
new`` 
CatalogItem`` 
(``  
)``  !
{``" #
CatalogTypeId``$ 1
=``1 2
$num``2 3
,``3 4
CatalogBrandId``4 B
=``B C
$num``C D
,``D E
Description``F Q
=``R S
$str``T h
,``h i
Name``j n
=``o p
$str	``q 
,
`` 
Price
`` 
=
`` 
$num
`` 
,
`` 

PictureUri
`` 
=
`` 
$str
``  Ú
}
``Û Ü
}aa 
;aa 
}bb 	
}cc 
}dd ÁL
SC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Data\EfRepository.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Data, 0
{		 
public 

class 
EfRepository 
< 
T 
>  
:! "
IRepository# .
<. /
T/ 0
>0 1
,1 2
IAsyncRepository3 C
<C D
TD E
>E F
whereG L
TM N
:O P

BaseEntityQ [
{ 
	protected 
readonly 
CatalogContext )

_dbContext* 4
;4 5
public 
EfRepository 
( 
CatalogContext *
	dbContext+ 4
)4 5
{ 	

_dbContext 
= 
	dbContext "
;" #
} 	
public 
virtual 
T 
GetById  
(  !
int! $
id% '
)' (
{ 	
return 

_dbContext 
. 
Set !
<! "
T" #
># $
($ %
)% &
.& '
Find' +
(+ ,
id, .
). /
;/ 0
} 	
public 
T 
GetSingleBySpec  
(  !
ISpecification! /
</ 0
T0 1
>1 2
spec3 7
)7 8
{ 	
return 
List 
( 
spec 
) 
. 
FirstOrDefault ,
(, -
)- .
;. /
}   	
public## 
virtual## 
async## 
Task## !
<##! "
T##" #
>### $
GetByIdAsync##% 1
(##1 2
int##2 5
id##6 8
)##8 9
{$$ 	
return%% 
await%% 

_dbContext%% #
.%%# $
Set%%$ '
<%%' (
T%%( )
>%%) *
(%%* +
)%%+ ,
.%%, -
	FindAsync%%- 6
(%%6 7
id%%7 9
)%%9 :
;%%: ;
}&& 	
public(( 
IEnumerable(( 
<(( 
T(( 
>(( 
ListAll(( %
(((% &
)((& '
{)) 	
return** 

_dbContext** 
.** 
Set** !
<**! "
T**" #
>**# $
(**$ %
)**% &
.**& '
AsEnumerable**' 3
(**3 4
)**4 5
;**5 6
}++ 	
public-- 
async-- 
Task-- 
<-- 
List-- 
<-- 
T--  
>--  !
>--! "
ListAllAsync--# /
(--/ 0
)--0 1
{.. 	
return// 
await// 

_dbContext// #
.//# $
Set//$ '
<//' (
T//( )
>//) *
(//* +
)//+ ,
.//, -
ToListAsync//- 8
(//8 9
)//9 :
;//: ;
}00 	
public22 
IEnumerable22 
<22 
T22 
>22 
List22 "
(22" #
ISpecification22# 1
<221 2
T222 3
>223 4
spec225 9
)229 :
{33 	
var55 '
queryableResultWithIncludes55 +
=55, -
spec55. 2
.552 3
Includes553 ;
.66 
	Aggregate66 
(66 

_dbContext66 %
.66% &
Set66& )
<66) *
T66* +
>66+ ,
(66, -
)66- .
.66. /
AsQueryable66/ :
(66: ;
)66; <
,66< =
(77 
current77 
,77 
include77 %
)77% &
=>77' )
current77* 1
.771 2
Include772 9
(779 :
include77: A
)77A B
)77B C
;77C D
var:: 
secondaryResult:: 
=::  !
spec::" &
.::& '
IncludeStrings::' 5
.;; 
	Aggregate;; 
(;; '
queryableResultWithIncludes;; 6
,;;6 7
(<< 
current<< 
,<< 
include<< %
)<<% &
=><<' )
current<<* 1
.<<1 2
Include<<2 9
(<<9 :
include<<: A
)<<A B
)<<B C
;<<C D
return?? 
secondaryResult?? "
.@@ 
Where@@ "
(@@" #
spec@@# '
.@@' (
Criteria@@( 0
)@@0 1
.AA 
AsEnumerableAA )
(AA) *
)AA* +
;AA+ ,
}BB 	
publicCC 
asyncCC 
TaskCC 
<CC 
ListCC 
<CC 
TCC  
>CC  !
>CC! "
	ListAsyncCC# ,
(CC, -
ISpecificationCC- ;
<CC; <
TCC< =
>CC= >
specCC? C
)CCC D
{DD 	
varFF '
queryableResultWithIncludesFF +
=FF, -
specFF. 2
.FF2 3
IncludesFF3 ;
.GG 
	AggregateGG 
(GG 

_dbContextGG %
.GG% &
SetGG& )
<GG) *
TGG* +
>GG+ ,
(GG, -
)GG- .
.GG. /
AsQueryableGG/ :
(GG: ;
)GG; <
,GG< =
(HH 
currentHH 
,HH 
includeHH %
)HH% &
=>HH' )
currentHH* 1
.HH1 2
IncludeHH2 9
(HH9 :
includeHH: A
)HHA B
)HHB C
;HHC D
varKK 
secondaryResultKK 
=KK  !
specKK" &
.KK& '
IncludeStringsKK' 5
.LL 
	AggregateLL 
(LL '
queryableResultWithIncludesLL 6
,LL6 7
(MM 
currentMM 
,MM 
includeMM %
)MM% &
=>MM' )
currentMM* 1
.MM1 2
IncludeMM2 9
(MM9 :
includeMM: A
)MMA B
)MMB C
;MMC D
returnPP 
awaitPP 
secondaryResultPP (
.QQ 
WhereQQ "
(QQ" #
specQQ# '
.QQ' (
CriteriaQQ( 0
)QQ0 1
.RR 
ToListAsyncRR (
(RR( )
)RR) *
;RR* +
}SS 	
publicUU 
TUU 
AddUU 
(UU 
TUU 
entityUU 
)UU 
{VV 	

_dbContextWW 
.WW 
SetWW 
<WW 
TWW 
>WW 
(WW 
)WW 
.WW  
AddWW  #
(WW# $
entityWW$ *
)WW* +
;WW+ ,

_dbContextXX 
.XX 
SaveChangesXX "
(XX" #
)XX# $
;XX$ %
returnZZ 
entityZZ 
;ZZ 
}[[ 	
public]] 
async]] 
Task]] 
<]] 
T]] 
>]] 
AddAsync]] %
(]]% &
T]]& '
entity]]( .
)]]. /
{^^ 	

_dbContext__ 
.__ 
Set__ 
<__ 
T__ 
>__ 
(__ 
)__ 
.__  
Add__  #
(__# $
entity__$ *
)__* +
;__+ ,
await`` 

_dbContext`` 
.`` 
SaveChangesAsync`` -
(``- .
)``. /
;``/ 0
returnbb 
entitybb 
;bb 
}cc 	
publicee 
voidee 
Updateee 
(ee 
Tee 
entityee #
)ee# $
{ff 	

_dbContextgg 
.gg 
Entrygg 
(gg 
entitygg #
)gg# $
.gg$ %
Stategg% *
=gg+ ,
EntityStategg- 8
.gg8 9
Modifiedgg9 A
;ggA B

_dbContexthh 
.hh 
SaveChangeshh "
(hh" #
)hh# $
;hh$ %
}ii 	
publicjj 
asyncjj 
Taskjj 
UpdateAsyncjj %
(jj% &
Tjj& '
entityjj( .
)jj. /
{kk 	

_dbContextll 
.ll 
Entryll 
(ll 
entityll #
)ll# $
.ll$ %
Statell% *
=ll+ ,
EntityStatell- 8
.ll8 9
Modifiedll9 A
;llA B
awaitmm 

_dbContextmm 
.mm 
SaveChangesAsyncmm -
(mm- .
)mm. /
;mm/ 0
}nn 	
publicpp 
voidpp 
Deletepp 
(pp 
Tpp 
entitypp #
)pp# $
{qq 	

_dbContextrr 
.rr 
Setrr 
<rr 
Trr 
>rr 
(rr 
)rr 
.rr  
Removerr  &
(rr& '
entityrr' -
)rr- .
;rr. /

_dbContextss 
.ss 
SaveChangesss "
(ss" #
)ss# $
;ss$ %
}tt 	
publicuu 
asyncuu 
Taskuu 
DeleteAsyncuu %
(uu% &
Tuu& '
entityuu( .
)uu. /
{vv 	

_dbContextww 
.ww 
Setww 
<ww 
Tww 
>ww 
(ww 
)ww 
.ww  
Removeww  &
(ww& '
entityww' -
)ww- .
;ww. /
awaitxx 

_dbContextxx 
.xx 
SaveChangesAsyncxx -
(xx- .
)xx. /
;xx/ 0
}yy 	
}zz 
}{{ ¦³
hC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Data\Migrations\20171018175735_Initial.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Data, 0
.0 1

Migrations1 ;
{ 
public 

partial 
class 
Initial  
:! "
	Migration# ,
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateSequence +
(+ ,
name 
: 
$str *
,* +
incrementBy 
: 
$num 
)  
;  !
migrationBuilder 
. 
CreateSequence +
(+ ,
name 
: 
$str $
,$ %
incrementBy 
: 
$num 
)  
;  !
migrationBuilder 
. 
CreateSequence +
(+ ,
name 
: 
$str )
,) *
incrementBy 
: 
$num 
)  
;  !
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
,  
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ G
,G H,
 SqlServerValueGenerationStrategyI i
.i j
IdentityColumnj x
)x y
,y z
BuyerId 
= 
table #
.# $
Column$ *
<* +
string+ 1
>1 2
(2 3
type3 7
:7 8
$str9 H
,H I
nullableJ R
:R S
trueT X
)X Y
} 
, 
constraints   
:   
table   "
=>  # %
{!! 
table"" 
."" 

PrimaryKey"" $
(""$ %
$str""% 1
,""1 2
x""3 4
=>""5 7
x""8 9
.""9 :
Id"": <
)""< =
;""= >
}## 
)## 
;## 
migrationBuilder%% 
.%% 
CreateTable%% (
(%%( )
name&& 
:&& 
$str&& $
,&&$ %
columns'' 
:'' 
table'' 
=>'' !
new''" %
{(( 
Id)) 
=)) 
table)) 
.)) 
Column)) %
<))% &
int))& )
>))) *
())* +
type))+ /
:))/ 0
$str))1 6
,))6 7
nullable))8 @
:))@ A
false))B G
)))G H
,))H I
Brand** 
=** 
table** !
.**! "
Column**" (
<**( )
string**) /
>**/ 0
(**0 1
type**1 5
:**5 6
$str**7 F
,**F G
	maxLength**H Q
:**Q R
$num**S V
,**V W
nullable**X `
:**` a
false**b g
)**g h
}++ 
,++ 
constraints,, 
:,, 
table,, "
=>,,# %
{-- 
table.. 
... 

PrimaryKey.. $
(..$ %
$str..% 6
,..6 7
x..8 9
=>..: <
x..= >
...> ?
Id..? A
)..A B
;..B C
}// 
)// 
;// 
migrationBuilder11 
.11 
CreateTable11 (
(11( )
name22 
:22 
$str22 #
,22# $
columns33 
:33 
table33 
=>33 !
new33" %
{44 
Id55 
=55 
table55 
.55 
Column55 %
<55% &
int55& )
>55) *
(55* +
type55+ /
:55/ 0
$str551 6
,556 7
nullable558 @
:55@ A
false55B G
)55G H
,55H I
Type66 
=66 
table66  
.66  !
Column66! '
<66' (
string66( .
>66. /
(66/ 0
type660 4
:664 5
$str666 E
,66E F
	maxLength66G P
:66P Q
$num66R U
,66U V
nullable66W _
:66_ `
false66a f
)66f g
}77 
,77 
constraints88 
:88 
table88 "
=>88# %
{99 
table:: 
.:: 

PrimaryKey:: $
(::$ %
$str::% 5
,::5 6
x::7 8
=>::9 ;
x::< =
.::= >
Id::> @
)::@ A
;::A B
};; 
);; 
;;; 
migrationBuilder== 
.== 
CreateTable== (
(==( )
name>> 
:>> 
$str>> 
,>> 
columns?? 
:?? 
table?? 
=>?? !
new??" %
{@@ 
IdAA 
=AA 
tableAA 
.AA 
ColumnAA %
<AA% &
intAA& )
>AA) *
(AA* +
typeAA+ /
:AA/ 0
$strAA1 6
,AA6 7
nullableAA8 @
:AA@ A
falseAAB G
)AAG H
.BB 

AnnotationBB #
(BB# $
$strBB$ G
,BBG H,
 SqlServerValueGenerationStrategyBBI i
.BBi j
IdentityColumnBBj x
)BBx y
,BBy z
BuyerIdCC 
=CC 
tableCC #
.CC# $
ColumnCC$ *
<CC* +
stringCC+ 1
>CC1 2
(CC2 3
typeCC3 7
:CC7 8
$strCC9 H
,CCH I
nullableCCJ R
:CCR S
trueCCT X
)CCX Y
,CCY Z
	OrderDateDD 
=DD 
tableDD  %
.DD% &
ColumnDD& ,
<DD, -
DateTimeOffsetDD- ;
>DD; <
(DD< =
typeDD= A
:DDA B
$strDDC S
,DDS T
nullableDDU ]
:DD] ^
falseDD_ d
)DDd e
,DDe f
ShipToAddress_CityEE &
=EE' (
tableEE) .
.EE. /
ColumnEE/ 5
<EE5 6
stringEE6 <
>EE< =
(EE= >
typeEE> B
:EEB C
$strEED S
,EES T
nullableEEU ]
:EE] ^
trueEE_ c
)EEc d
,EEd e!
ShipToAddress_CountryFF )
=FF* +
tableFF, 1
.FF1 2
ColumnFF2 8
<FF8 9
stringFF9 ?
>FF? @
(FF@ A
typeFFA E
:FFE F
$strFFG V
,FFV W
nullableFFX `
:FF` a
trueFFb f
)FFf g
,FFg h
ShipToAddress_StateGG '
=GG( )
tableGG* /
.GG/ 0
ColumnGG0 6
<GG6 7
stringGG7 =
>GG= >
(GG> ?
typeGG? C
:GGC D
$strGGE T
,GGT U
nullableGGV ^
:GG^ _
trueGG` d
)GGd e
,GGe f 
ShipToAddress_StreetHH (
=HH) *
tableHH+ 0
.HH0 1
ColumnHH1 7
<HH7 8
stringHH8 >
>HH> ?
(HH? @
typeHH@ D
:HHD E
$strHHF U
,HHU V
nullableHHW _
:HH_ `
trueHHa e
)HHe f
,HHf g!
ShipToAddress_ZipCodeII )
=II* +
tableII, 1
.II1 2
ColumnII2 8
<II8 9
stringII9 ?
>II? @
(II@ A
typeIIA E
:IIE F
$strIIG V
,IIV W
nullableIIX `
:II` a
trueIIb f
)IIf g
}JJ 
,JJ 
constraintsKK 
:KK 
tableKK "
=>KK# %
{LL 
tableMM 
.MM 

PrimaryKeyMM $
(MM$ %
$strMM% 0
,MM0 1
xMM2 3
=>MM4 6
xMM7 8
.MM8 9
IdMM9 ;
)MM; <
;MM< =
}NN 
)NN 
;NN 
migrationBuilderPP 
.PP 
CreateTablePP (
(PP( )
nameQQ 
:QQ 
$strQQ "
,QQ" #
columnsRR 
:RR 
tableRR 
=>RR !
newRR" %
{SS 
IdTT 
=TT 
tableTT 
.TT 
ColumnTT %
<TT% &
intTT& )
>TT) *
(TT* +
typeTT+ /
:TT/ 0
$strTT1 6
,TT6 7
nullableTT8 @
:TT@ A
falseTTB G
)TTG H
.UU 

AnnotationUU #
(UU# $
$strUU$ G
,UUG H,
 SqlServerValueGenerationStrategyUUI i
.UUi j
IdentityColumnUUj x
)UUx y
,UUy z
BasketIdVV 
=VV 
tableVV $
.VV$ %
ColumnVV% +
<VV+ ,
intVV, /
>VV/ 0
(VV0 1
typeVV1 5
:VV5 6
$strVV7 <
,VV< =
nullableVV> F
:VVF G
trueVVH L
)VVL M
,VVM N
CatalogItemIdWW !
=WW" #
tableWW$ )
.WW) *
ColumnWW* 0
<WW0 1
intWW1 4
>WW4 5
(WW5 6
typeWW6 :
:WW: ;
$strWW< A
,WWA B
nullableWWC K
:WWK L
falseWWM R
)WWR S
,WWS T
QuantityXX 
=XX 
tableXX $
.XX$ %
ColumnXX% +
<XX+ ,
intXX, /
>XX/ 0
(XX0 1
typeXX1 5
:XX5 6
$strXX7 <
,XX< =
nullableXX> F
:XXF G
falseXXH M
)XXM N
,XXN O
	UnitPriceYY 
=YY 
tableYY  %
.YY% &
ColumnYY& ,
<YY, -
decimalYY- 4
>YY4 5
(YY5 6
typeYY6 :
:YY: ;
$strYY< L
,YYL M
nullableYYN V
:YYV W
falseYYX ]
)YY] ^
}ZZ 
,ZZ 
constraints[[ 
:[[ 
table[[ "
=>[[# %
{\\ 
table]] 
.]] 

PrimaryKey]] $
(]]$ %
$str]]% 4
,]]4 5
x]]6 7
=>]]8 :
x]]; <
.]]< =
Id]]= ?
)]]? @
;]]@ A
table^^ 
.^^ 

ForeignKey^^ $
(^^$ %
name__ 
:__ 
$str__ >
,__> ?
column`` 
:`` 
x``  !
=>``" $
x``% &
.``& '
BasketId``' /
,``/ 0
principalTableaa &
:aa& '
$straa( 1
,aa1 2
principalColumnbb '
:bb' (
$strbb) -
,bb- .
onDeletecc  
:cc  !
ReferentialActioncc" 3
.cc3 4
Restrictcc4 <
)cc< =
;cc= >
}dd 
)dd 
;dd 
migrationBuilderff 
.ff 
CreateTableff (
(ff( )
namegg 
:gg 
$strgg 
,gg  
columnshh 
:hh 
tablehh 
=>hh !
newhh" %
{ii 
Idjj 
=jj 
tablejj 
.jj 
Columnjj %
<jj% &
intjj& )
>jj) *
(jj* +
typejj+ /
:jj/ 0
$strjj1 6
,jj6 7
nullablejj8 @
:jj@ A
falsejjB G
)jjG H
,jjH I
CatalogBrandIdkk "
=kk# $
tablekk% *
.kk* +
Columnkk+ 1
<kk1 2
intkk2 5
>kk5 6
(kk6 7
typekk7 ;
:kk; <
$strkk= B
,kkB C
nullablekkD L
:kkL M
falsekkN S
)kkS T
,kkT U
CatalogTypeIdll !
=ll" #
tablell$ )
.ll) *
Columnll* 0
<ll0 1
intll1 4
>ll4 5
(ll5 6
typell6 :
:ll: ;
$strll< A
,llA B
nullablellC K
:llK L
falsellM R
)llR S
,llS T
Descriptionmm 
=mm  !
tablemm" '
.mm' (
Columnmm( .
<mm. /
stringmm/ 5
>mm5 6
(mm6 7
typemm7 ;
:mm; <
$strmm= L
,mmL M
nullablemmN V
:mmV W
truemmX \
)mm\ ]
,mm] ^
Namenn 
=nn 
tablenn  
.nn  !
Columnnn! '
<nn' (
stringnn( .
>nn. /
(nn/ 0
typenn0 4
:nn4 5
$strnn6 D
,nnD E
	maxLengthnnF O
:nnO P
$numnnQ S
,nnS T
nullablennU ]
:nn] ^
falsenn_ d
)nnd e
,nne f

PictureUrioo 
=oo  
tableoo! &
.oo& '
Columnoo' -
<oo- .
stringoo. 4
>oo4 5
(oo5 6
typeoo6 :
:oo: ;
$stroo< K
,ooK L
nullableooM U
:ooU V
trueooW [
)oo[ \
,oo\ ]
Pricepp 
=pp 
tablepp !
.pp! "
Columnpp" (
<pp( )
decimalpp) 0
>pp0 1
(pp1 2
typepp2 6
:pp6 7
$strpp8 H
,ppH I
nullableppJ R
:ppR S
falseppT Y
)ppY Z
}qq 
,qq 
constraintsrr 
:rr 
tablerr "
=>rr# %
{ss 
tablett 
.tt 

PrimaryKeytt $
(tt$ %
$strtt% 1
,tt1 2
xtt3 4
=>tt5 7
xtt8 9
.tt9 :
Idtt: <
)tt< =
;tt= >
tableuu 
.uu 

ForeignKeyuu $
(uu$ %
namevv 
:vv 
$strvv F
,vvF G
columnww 
:ww 
xww  !
=>ww" $
xww% &
.ww& '
CatalogBrandIdww' 5
,ww5 6
principalTablexx &
:xx& '
$strxx( 6
,xx6 7
principalColumnyy '
:yy' (
$stryy) -
,yy- .
onDeletezz  
:zz  !
ReferentialActionzz" 3
.zz3 4
Cascadezz4 ;
)zz; <
;zz< =
table{{ 
.{{ 

ForeignKey{{ $
({{$ %
name|| 
:|| 
$str|| D
,||D E
column}} 
:}} 
x}}  !
=>}}" $
x}}% &
.}}& '
CatalogTypeId}}' 4
,}}4 5
principalTable~~ &
:~~& '
$str~~( 5
,~~5 6
principalColumn '
:' (
$str) -
,- .
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Cascade
4 ;
)
; <
;
< =
}
 
)
 
;
 
migrationBuilder
 
.
 
CreateTable
 (
(
( )
name
 
:
 
$str
 "
,
" #
columns
 
:
 
table
 
=>
 !
new
" %
{
 
Id
 
=
 
table
 
.
 
Column
 %
<
% &
int
& )
>
) *
(
* +
type
+ /
:
/ 0
$str
1 6
,
6 7
nullable
8 @
:
@ A
false
B G
)
G H
.
 

Annotation
 #
(
# $
$str
$ G
,
G H.
 SqlServerValueGenerationStrategy
I i
.
i j
IdentityColumn
j x
)
x y
,
y z
OrderId
 
=
 
table
 #
.
# $
Column
$ *
<
* +
int
+ .
>
. /
(
/ 0
type
0 4
:
4 5
$str
6 ;
,
; <
nullable
= E
:
E F
true
G K
)
K L
,
L M
	UnitPrice
 
=
 
table
  %
.
% &
Column
& ,
<
, -
decimal
- 4
>
4 5
(
5 6
type
6 :
:
: ;
$str
< L
,
L M
nullable
N V
:
V W
false
X ]
)
] ^
,
^ _
Units
 
=
 
table
 !
.
! "
Column
" (
<
( )
int
) ,
>
, -
(
- .
type
. 2
:
2 3
$str
4 9
,
9 :
nullable
; C
:
C D
false
E J
)
J K
,
K L'
ItemOrdered_CatalogItemId
 -
=
. /
table
0 5
.
5 6
Column
6 <
<
< =
int
= @
>
@ A
(
A B
type
B F
:
F G
$str
H M
,
M N
nullable
O W
:
W X
false
Y ^
)
^ _
,
_ `$
ItemOrdered_PictureUri
 *
=
+ ,
table
- 2
.
2 3
Column
3 9
<
9 :
string
: @
>
@ A
(
A B
type
B F
:
F G
$str
H W
,
W X
nullable
Y a
:
a b
true
c g
)
g h
,
h i%
ItemOrdered_ProductName
 +
=
, -
table
. 3
.
3 4
Column
4 :
<
: ;
string
; A
>
A B
(
B C
type
C G
:
G H
$str
I X
,
X Y
nullable
Z b
:
b c
true
d h
)
h i
}
 
,
 
constraints
 
:
 
table
 "
=>
# %
{
 
table
 
.
 

PrimaryKey
 $
(
$ %
$str
% 4
,
4 5
x
6 7
=>
8 :
x
; <
.
< =
Id
= ?
)
? @
;
@ A
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 <
,
< =
column
 
:
 
x
  !
=>
" $
x
% &
.
& '
OrderId
' .
,
. /
principalTable
 &
:
& '
$str
( 0
,
0 1
principalColumn
 '
:
' (
$str
) -
,
- .
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Restrict
4 <
)
< =
;
= >
}
 
)
 
;
 
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 .
,
. /
table
 
:
 
$str
 #
,
# $
column
 
:
 
$str
 "
)
" #
;
# $
migrationBuilder
   
.
   
CreateIndex
   (
(
  ( )
name
¡¡ 
:
¡¡ 
$str
¡¡ 1
,
¡¡1 2
table
¢¢ 
:
¢¢ 
$str
¢¢  
,
¢¢  !
column
££ 
:
££ 
$str
££ (
)
££( )
;
££) *
migrationBuilder
¥¥ 
.
¥¥ 
CreateIndex
¥¥ (
(
¥¥( )
name
¦¦ 
:
¦¦ 
$str
¦¦ 0
,
¦¦0 1
table
§§ 
:
§§ 
$str
§§  
,
§§  !
column
¨¨ 
:
¨¨ 
$str
¨¨ '
)
¨¨' (
;
¨¨( )
migrationBuilder
ªª 
.
ªª 
CreateIndex
ªª (
(
ªª( )
name
«« 
:
«« 
$str
«« -
,
««- .
table
¬¬ 
:
¬¬ 
$str
¬¬ #
,
¬¬# $
column
­­ 
:
­­ 
$str
­­ !
)
­­! "
;
­­" #
}
®® 	
	protected
°° 
override
°° 
void
°° 
Down
°°  $
(
°°$ %
MigrationBuilder
°°% 5
migrationBuilder
°°6 F
)
°°F G
{
±± 	
migrationBuilder
²² 
.
²² 
	DropTable
²² &
(
²²& '
name
³³ 
:
³³ 
$str
³³ "
)
³³" #
;
³³# $
migrationBuilder
µµ 
.
µµ 
	DropTable
µµ &
(
µµ& '
name
¶¶ 
:
¶¶ 
$str
¶¶ 
)
¶¶  
;
¶¶  !
migrationBuilder
¸¸ 
.
¸¸ 
	DropTable
¸¸ &
(
¸¸& '
name
¹¹ 
:
¹¹ 
$str
¹¹ "
)
¹¹" #
;
¹¹# $
migrationBuilder
»» 
.
»» 
	DropTable
»» &
(
»»& '
name
¼¼ 
:
¼¼ 
$str
¼¼ 
)
¼¼  
;
¼¼  !
migrationBuilder
¾¾ 
.
¾¾ 
	DropTable
¾¾ &
(
¾¾& '
name
¿¿ 
:
¿¿ 
$str
¿¿ $
)
¿¿$ %
;
¿¿% &
migrationBuilder
ÁÁ 
.
ÁÁ 
	DropTable
ÁÁ &
(
ÁÁ& '
name
ÂÂ 
:
ÂÂ 
$str
ÂÂ #
)
ÂÂ# $
;
ÂÂ$ %
migrationBuilder
ÄÄ 
.
ÄÄ 
	DropTable
ÄÄ &
(
ÄÄ& '
name
ÅÅ 
:
ÅÅ 
$str
ÅÅ 
)
ÅÅ 
;
ÅÅ  
migrationBuilder
ÇÇ 
.
ÇÇ 
DropSequence
ÇÇ )
(
ÇÇ) *
name
ÈÈ 
:
ÈÈ 
$str
ÈÈ *
)
ÈÈ* +
;
ÈÈ+ ,
migrationBuilder
ÊÊ 
.
ÊÊ 
DropSequence
ÊÊ )
(
ÊÊ) *
name
ËË 
:
ËË 
$str
ËË $
)
ËË$ %
;
ËË% &
migrationBuilder
ÍÍ 
.
ÍÍ 
DropSequence
ÍÍ )
(
ÍÍ) *
name
ÎÎ 
:
ÎÎ 
$str
ÎÎ )
)
ÎÎ) *
;
ÎÎ* +
}
ÏÏ 	
}
ÐÐ 
}ÑÑ ú
VC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Data\OrderRepository.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Data, 0
{ 
public		 

class		 
OrderRepository		  
:		! "
EfRepository		# /
<		/ 0
Order		0 5
>		5 6
,		6 7
IOrderRepository		8 H
{

 
public 
OrderRepository 
( 
CatalogContext -
	dbContext. 7
)7 8
:9 :
base; ?
(? @
	dbContext@ I
)I J
{ 	
} 	
public 
Order 
GetByIdWithItems %
(% &
int& )
id* ,
), -
{ 	
return 

_dbContext 
. 
Orders $
. 
Include 
( 
o 
=> 
o 
.  

OrderItems  *
)* +
. 
Include 
( 
$" 
{ 
nameof "
(" #
Order# (
.( )

OrderItems) 3
)3 4
}4 5
.5 6
{6 7
nameof7 =
(= >
	OrderItem> G
.G H
ItemOrderedH S
)S T
}T U
"U V
)V W
. 
FirstOrDefault 
(  
)  !
;! "
} 	
public 
Task 
< 
Order 
> !
GetByIdWithItemsAsync 0
(0 1
int1 4
id5 7
)7 8
{ 	
return 

_dbContext 
. 
Orders $
. 
Include 
( 
o 
=> 
o 
.  

OrderItems  *
)* +
. 
Include 
( 
$" 
{ 
nameof "
(" #
Order# (
.( )

OrderItems) 3
)3 4
}4 5
.5 6
{6 7
nameof7 =
(= >
	OrderItem> G
.G H
ItemOrderedH S
)S T
}T U
"U V
)V W
. 
FirstOrDefaultAsync $
($ %
)% &
;& '
} 	
} 
} ì
_C:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Identity\AppIdentityDbContext.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Identity, 4
{ 
public 

class  
AppIdentityDbContext %
:& '
IdentityDbContext( 9
<9 :
ApplicationUser: I
>I J
{ 
public		  
AppIdentityDbContext		 #
(		# $
DbContextOptions		$ 4
<		4 5 
AppIdentityDbContext		5 I
>		I J
options		K R
)		R S
:

 
base

 
(

 
options

 
)

 
{ 	
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
builder= D
)D E
{ 	
base 
. 
OnModelCreating  
(  !
builder! (
)( )
;) *
} 	
} 
} á
cC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Identity\AppIdentityDbContextSeed.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Identity, 4
{ 
public 

class $
AppIdentityDbContextSeed )
{ 
public 
static 
async 
Task  
	SeedAsync! *
(* +
UserManager+ 6
<6 7
ApplicationUser7 F
>F G
userManagerH S
)S T
{		 	
var

 
defaultUser

 
=

 
new

 !
ApplicationUser

" 1
{

2 3
UserName

4 <
=

= >
$str

? W
,

W X
Email

Y ^
=

_ `
$str

a y
}

z {
;

{ |
await 
userManager 
. 
CreateAsync )
() *
defaultUser* 5
,5 6
$str7 C
)C D
;D E
} 	
} 
} ¢
ZC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Identity\ApplicationUser.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Identity, 4
{ 
public 

class 
ApplicationUser  
:! "
IdentityUser# /
{ 
} 
} ¥®
yC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Identity\Migrations\20170822214310_InitialIdentityModel.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Identity, 4
.4 5

Migrations5 ?
{ 
public 

partial 
class  
InitialIdentityModel -
:. /
	Migration0 9
{		 
	protected

 
override

 
void

 
Up

  "
(

" #
MigrationBuilder

# 3
migrationBuilder

4 D
)

D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
nullable. 6
:6 7
false8 =
)= >
,> ?
AccessFailedCount %
=& '
table( -
.- .
Column. 4
<4 5
int5 8
>8 9
(9 :
nullable: B
:B C
falseD I
)I J
,J K
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
nullable< D
:D E
trueF J
)J K
,K L
Email 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
	maxLength1 :
:: ;
$num< ?
,? @
nullableA I
:I J
trueK O
)O P
,P Q
EmailConfirmed "
=# $
table% *
.* +
Column+ 1
<1 2
bool2 6
>6 7
(7 8
nullable8 @
:@ A
falseB G
)G H
,H I
LockoutEnabled "
=# $
table% *
.* +
Column+ 1
<1 2
bool2 6
>6 7
(7 8
nullable8 @
:@ A
falseB G
)G H
,H I

LockoutEnd 
=  
table! &
.& '
Column' -
<- .
DateTimeOffset. <
>< =
(= >
nullable> F
:F G
trueH L
)L M
,M N
NormalizedEmail #
=$ %
table& +
.+ ,
Column, 2
<2 3
string3 9
>9 :
(: ;
	maxLength; D
:D E
$numF I
,I J
nullableK S
:S T
trueU Y
)Y Z
,Z [
NormalizedUserName &
=' (
table) .
.. /
Column/ 5
<5 6
string6 <
>< =
(= >
	maxLength> G
:G H
$numI L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
PasswordHash  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
nullable8 @
:@ A
trueB F
)F G
,G H
PhoneNumber 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
nullable7 ?
:? @
trueA E
)E F
,F G 
PhoneNumberConfirmed (
=) *
table+ 0
.0 1
Column1 7
<7 8
bool8 <
>< =
(= >
nullable> F
:F G
falseH M
)M N
,N O
SecurityStamp !
=" #
table$ )
.) *
Column* 0
<0 1
string1 7
>7 8
(8 9
nullable9 A
:A B
trueC G
)G H
,H I
TwoFactorEnabled $
=% &
table' ,
., -
Column- 3
<3 4
bool4 8
>8 9
(9 :
nullable: B
:B C
falseD I
)I J
,J K
UserName 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
	maxLength4 =
:= >
$num? B
,B C
nullableD L
:L M
trueN R
)R S
} 
, 
constraints   
:   
table   "
=>  # %
{!! 
table"" 
."" 

PrimaryKey"" $
(""$ %
$str""% 5
,""5 6
x""7 8
=>""9 ;
x""< =
.""= >
Id""> @
)""@ A
;""A B
}## 
)## 
;## 
migrationBuilder%% 
.%% 
CreateTable%% (
(%%( )
name&& 
:&& 
$str&& #
,&&# $
columns'' 
:'' 
table'' 
=>'' !
new''" %
{(( 
Id)) 
=)) 
table)) 
.)) 
Column)) %
<))% &
string))& ,
>)), -
())- .
nullable)). 6
:))6 7
false))8 =
)))= >
,))> ?
ConcurrencyStamp** $
=**% &
table**' ,
.**, -
Column**- 3
<**3 4
string**4 :
>**: ;
(**; <
nullable**< D
:**D E
true**F J
)**J K
,**K L
Name++ 
=++ 
table++  
.++  !
Column++! '
<++' (
string++( .
>++. /
(++/ 0
	maxLength++0 9
:++9 :
$num++; >
,++> ?
nullable++@ H
:++H I
true++J N
)++N O
,++O P
NormalizedName,, "
=,,# $
table,,% *
.,,* +
Column,,+ 1
<,,1 2
string,,2 8
>,,8 9
(,,9 :
	maxLength,,: C
:,,C D
$num,,E H
,,,H I
nullable,,J R
:,,R S
true,,T X
),,X Y
}-- 
,-- 
constraints.. 
:.. 
table.. "
=>..# %
{// 
table00 
.00 

PrimaryKey00 $
(00$ %
$str00% 5
,005 6
x007 8
=>009 ;
x00< =
.00= >
Id00> @
)00@ A
;00A B
}11 
)11 
;11 
migrationBuilder33 
.33 
CreateTable33 (
(33( )
name44 
:44 
$str44 (
,44( )
columns55 
:55 
table55 
=>55 !
new55" %
{66 
UserId77 
=77 
table77 "
.77" #
Column77# )
<77) *
string77* 0
>770 1
(771 2
nullable772 :
:77: ;
false77< A
)77A B
,77B C
LoginProvider88 !
=88" #
table88$ )
.88) *
Column88* 0
<880 1
string881 7
>887 8
(888 9
nullable889 A
:88A B
false88C H
)88H I
,88I J
Name99 
=99 
table99  
.99  !
Column99! '
<99' (
string99( .
>99. /
(99/ 0
nullable990 8
:998 9
false99: ?
)99? @
,99@ A
Value:: 
=:: 
table:: !
.::! "
Column::" (
<::( )
string::) /
>::/ 0
(::0 1
nullable::1 9
:::9 :
true::; ?
)::? @
};; 
,;; 
constraints<< 
:<< 
table<< "
=><<# %
{== 
table>> 
.>> 

PrimaryKey>> $
(>>$ %
$str>>% :
,>>: ;
x>>< =
=>>>> @
new>>A D
{>>E F
x>>G H
.>>H I
UserId>>I O
,>>O P
x>>Q R
.>>R S
LoginProvider>>S `
,>>` a
x>>b c
.>>c d
Name>>d h
}>>i j
)>>j k
;>>k l
}?? 
)?? 
;?? 
migrationBuilderAA 
.AA 
CreateTableAA (
(AA( )
nameBB 
:BB 
$strBB (
,BB( )
columnsCC 
:CC 
tableCC 
=>CC !
newCC" %
{DD 
IdEE 
=EE 
tableEE 
.EE 
ColumnEE %
<EE% &
intEE& )
>EE) *
(EE* +
nullableEE+ 3
:EE3 4
falseEE5 :
)EE: ;
.FF 

AnnotationFF #
(FF# $
$strFF$ G
,FFG H,
 SqlServerValueGenerationStrategyFFI i
.FFi j
IdentityColumnFFj x
)FFx y
,FFy z
	ClaimTypeGG 
=GG 
tableGG  %
.GG% &
ColumnGG& ,
<GG, -
stringGG- 3
>GG3 4
(GG4 5
nullableGG5 =
:GG= >
trueGG? C
)GGC D
,GGD E

ClaimValueHH 
=HH  
tableHH! &
.HH& '
ColumnHH' -
<HH- .
stringHH. 4
>HH4 5
(HH5 6
nullableHH6 >
:HH> ?
trueHH@ D
)HHD E
,HHE F
UserIdII 
=II 
tableII "
.II" #
ColumnII# )
<II) *
stringII* 0
>II0 1
(II1 2
nullableII2 :
:II: ;
falseII< A
)IIA B
}JJ 
,JJ 
constraintsKK 
:KK 
tableKK "
=>KK# %
{LL 
tableMM 
.MM 

PrimaryKeyMM $
(MM$ %
$strMM% :
,MM: ;
xMM< =
=>MM> @
xMMA B
.MMB C
IdMMC E
)MME F
;MMF G
tableNN 
.NN 

ForeignKeyNN $
(NN$ %
nameOO 
:OO 
$strOO F
,OOF G
columnPP 
:PP 
xPP  !
=>PP" $
xPP% &
.PP& '
UserIdPP' -
,PP- .
principalTableQQ &
:QQ& '
$strQQ( 5
,QQ5 6
principalColumnRR '
:RR' (
$strRR) -
,RR- .
onDeleteSS  
:SS  !
ReferentialActionSS" 3
.SS3 4
CascadeSS4 ;
)SS; <
;SS< =
}TT 
)TT 
;TT 
migrationBuilderVV 
.VV 
CreateTableVV (
(VV( )
nameWW 
:WW 
$strWW (
,WW( )
columnsXX 
:XX 
tableXX 
=>XX !
newXX" %
{YY 
LoginProviderZZ !
=ZZ" #
tableZZ$ )
.ZZ) *
ColumnZZ* 0
<ZZ0 1
stringZZ1 7
>ZZ7 8
(ZZ8 9
nullableZZ9 A
:ZZA B
falseZZC H
)ZZH I
,ZZI J
ProviderKey[[ 
=[[  !
table[[" '
.[[' (
Column[[( .
<[[. /
string[[/ 5
>[[5 6
([[6 7
nullable[[7 ?
:[[? @
false[[A F
)[[F G
,[[G H
ProviderDisplayName\\ '
=\\( )
table\\* /
.\\/ 0
Column\\0 6
<\\6 7
string\\7 =
>\\= >
(\\> ?
nullable\\? G
:\\G H
true\\I M
)\\M N
,\\N O
UserId]] 
=]] 
table]] "
.]]" #
Column]]# )
<]]) *
string]]* 0
>]]0 1
(]]1 2
nullable]]2 :
:]]: ;
false]]< A
)]]A B
}^^ 
,^^ 
constraints__ 
:__ 
table__ "
=>__# %
{`` 
tableaa 
.aa 

PrimaryKeyaa $
(aa$ %
$straa% :
,aa: ;
xaa< =
=>aa> @
newaaA D
{aaE F
xaaG H
.aaH I
LoginProvideraaI V
,aaV W
xaaX Y
.aaY Z
ProviderKeyaaZ e
}aaf g
)aag h
;aah i
tablebb 
.bb 

ForeignKeybb $
(bb$ %
namecc 
:cc 
$strcc F
,ccF G
columndd 
:dd 
xdd  !
=>dd" $
xdd% &
.dd& '
UserIddd' -
,dd- .
principalTableee &
:ee& '
$stree( 5
,ee5 6
principalColumnff '
:ff' (
$strff) -
,ff- .
onDeletegg  
:gg  !
ReferentialActiongg" 3
.gg3 4
Cascadegg4 ;
)gg; <
;gg< =
}hh 
)hh 
;hh 
migrationBuilderjj 
.jj 
CreateTablejj (
(jj( )
namekk 
:kk 
$strkk (
,kk( )
columnsll 
:ll 
tablell 
=>ll !
newll" %
{mm 
Idnn 
=nn 
tablenn 
.nn 
Columnnn %
<nn% &
intnn& )
>nn) *
(nn* +
nullablenn+ 3
:nn3 4
falsenn5 :
)nn: ;
.oo 

Annotationoo #
(oo# $
$stroo$ G
,ooG H,
 SqlServerValueGenerationStrategyooI i
.ooi j
IdentityColumnooj x
)oox y
,ooy z
	ClaimTypepp 
=pp 
tablepp  %
.pp% &
Columnpp& ,
<pp, -
stringpp- 3
>pp3 4
(pp4 5
nullablepp5 =
:pp= >
truepp? C
)ppC D
,ppD E

ClaimValueqq 
=qq  
tableqq! &
.qq& '
Columnqq' -
<qq- .
stringqq. 4
>qq4 5
(qq5 6
nullableqq6 >
:qq> ?
trueqq@ D
)qqD E
,qqE F
RoleIdrr 
=rr 
tablerr "
.rr" #
Columnrr# )
<rr) *
stringrr* 0
>rr0 1
(rr1 2
nullablerr2 :
:rr: ;
falserr< A
)rrA B
}ss 
,ss 
constraintstt 
:tt 
tablett "
=>tt# %
{uu 
tablevv 
.vv 

PrimaryKeyvv $
(vv$ %
$strvv% :
,vv: ;
xvv< =
=>vv> @
xvvA B
.vvB C
IdvvC E
)vvE F
;vvF G
tableww 
.ww 

ForeignKeyww $
(ww$ %
namexx 
:xx 
$strxx F
,xxF G
columnyy 
:yy 
xyy  !
=>yy" $
xyy% &
.yy& '
RoleIdyy' -
,yy- .
principalTablezz &
:zz& '
$strzz( 5
,zz5 6
principalColumn{{ '
:{{' (
$str{{) -
,{{- .
onDelete||  
:||  !
ReferentialAction||" 3
.||3 4
Cascade||4 ;
)||; <
;||< =
}}} 
)}} 
;}} 
migrationBuilder 
. 
CreateTable (
(( )
name
 
:
 
$str
 '
,
' (
columns
 
:
 
table
 
=>
 !
new
" %
{
 
UserId
 
=
 
table
 "
.
" #
Column
# )
<
) *
string
* 0
>
0 1
(
1 2
nullable
2 :
:
: ;
false
< A
)
A B
,
B C
RoleId
 
=
 
table
 "
.
" #
Column
# )
<
) *
string
* 0
>
0 1
(
1 2
nullable
2 :
:
: ;
false
< A
)
A B
}
 
,
 
constraints
 
:
 
table
 "
=>
# %
{
 
table
 
.
 

PrimaryKey
 $
(
$ %
$str
% 9
,
9 :
x
; <
=>
= ?
new
@ C
{
D E
x
F G
.
G H
UserId
H N
,
N O
x
P Q
.
Q R
RoleId
R X
}
Y Z
)
Z [
;
[ \
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 E
,
E F
column
 
:
 
x
  !
=>
" $
x
% &
.
& '
RoleId
' -
,
- .
principalTable
 &
:
& '
$str
( 5
,
5 6
principalColumn
 '
:
' (
$str
) -
,
- .
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Cascade
4 ;
)
; <
;
< =
table
 
.
 

ForeignKey
 $
(
$ %
name
 
:
 
$str
 E
,
E F
column
 
:
 
x
  !
=>
" $
x
% &
.
& '
UserId
' -
,
- .
principalTable
 &
:
& '
$str
( 5
,
5 6
principalColumn
 '
:
' (
$str
) -
,
- .
onDelete
  
:
  !
ReferentialAction
" 3
.
3 4
Cascade
4 ;
)
; <
;
< =
}
 
)
 
;
 
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 "
,
" #
table
 
:
 
$str
 $
,
$ %
column
 
:
 
$str
 )
)
) *
;
* +
migrationBuilder
 
.
 
CreateIndex
 (
(
( )
name
 
:
 
$str
 %
,
% &
table
 
:
 
$str
 $
,
$ %
column
 
:
 
$str
 ,
,
, -
unique
   
:
   
true
   
)
   
;
   
migrationBuilder
¢¢ 
.
¢¢ 
CreateIndex
¢¢ (
(
¢¢( )
name
££ 
:
££ 
$str
££ %
,
££% &
table
¤¤ 
:
¤¤ 
$str
¤¤ $
,
¤¤$ %
column
¥¥ 
:
¥¥ 
$str
¥¥ (
,
¥¥( )
unique
¦¦ 
:
¦¦ 
true
¦¦ 
)
¦¦ 
;
¦¦ 
migrationBuilder
¨¨ 
.
¨¨ 
CreateIndex
¨¨ (
(
¨¨( )
name
©© 
:
©© 
$str
©© 2
,
©©2 3
table
ªª 
:
ªª 
$str
ªª )
,
ªª) *
column
«« 
:
«« 
$str
««  
)
««  !
;
««! "
migrationBuilder
­­ 
.
­­ 
CreateIndex
­­ (
(
­­( )
name
®® 
:
®® 
$str
®® 2
,
®®2 3
table
¯¯ 
:
¯¯ 
$str
¯¯ )
,
¯¯) *
column
°° 
:
°° 
$str
°°  
)
°°  !
;
°°! "
migrationBuilder
²² 
.
²² 
CreateIndex
²² (
(
²²( )
name
³³ 
:
³³ 
$str
³³ 2
,
³³2 3
table
´´ 
:
´´ 
$str
´´ )
,
´´) *
column
µµ 
:
µµ 
$str
µµ  
)
µµ  !
;
µµ! "
migrationBuilder
·· 
.
·· 
CreateIndex
·· (
(
··( )
name
¸¸ 
:
¸¸ 
$str
¸¸ 1
,
¸¸1 2
table
¹¹ 
:
¹¹ 
$str
¹¹ (
,
¹¹( )
column
ºº 
:
ºº 
$str
ºº  
)
ºº  !
;
ºº! "
}
»» 	
	protected
½½ 
override
½½ 
void
½½ 
Down
½½  $
(
½½$ %
MigrationBuilder
½½% 5
migrationBuilder
½½6 F
)
½½F G
{
¾¾ 	
migrationBuilder
¿¿ 
.
¿¿ 
	DropTable
¿¿ &
(
¿¿& '
name
ÀÀ 
:
ÀÀ 
$str
ÀÀ (
)
ÀÀ( )
;
ÀÀ) *
migrationBuilder
ÂÂ 
.
ÂÂ 
	DropTable
ÂÂ &
(
ÂÂ& '
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ (
)
ÃÃ( )
;
ÃÃ) *
migrationBuilder
ÅÅ 
.
ÅÅ 
	DropTable
ÅÅ &
(
ÅÅ& '
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ (
)
ÆÆ( )
;
ÆÆ) *
migrationBuilder
ÈÈ 
.
ÈÈ 
	DropTable
ÈÈ &
(
ÈÈ& '
name
ÉÉ 
:
ÉÉ 
$str
ÉÉ '
)
ÉÉ' (
;
ÉÉ( )
migrationBuilder
ËË 
.
ËË 
	DropTable
ËË &
(
ËË& '
name
ÌÌ 
:
ÌÌ 
$str
ÌÌ (
)
ÌÌ( )
;
ÌÌ) *
migrationBuilder
ÎÎ 
.
ÎÎ 
	DropTable
ÎÎ &
(
ÎÎ& '
name
ÏÏ 
:
ÏÏ 
$str
ÏÏ #
)
ÏÏ# $
;
ÏÏ$ %
migrationBuilder
ÑÑ 
.
ÑÑ 
	DropTable
ÑÑ &
(
ÑÑ& '
name
ÒÒ 
:
ÒÒ 
$str
ÒÒ #
)
ÒÒ# $
;
ÒÒ$ %
}
ÓÓ 	
}
ÔÔ 
}ÕÕ ÿ
wC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Identity\Migrations\AppIdentityDbContextModelSnapshot.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Identity, 4
.4 5

Migrations5 ?
{		 
[

 
	DbContext

 
(

 
typeof

 
(

  
AppIdentityDbContext

 *
)

* +
)

+ ,
]

, -
partial 
class -
!AppIdentityDbContextModelSnapshot 3
:4 5
ModelSnapshot6 C
{ 
	protected 
override 
void 

BuildModel  *
(* +
ModelBuilder+ 7
modelBuilder8 D
)D E
{ 	
modelBuilder 
. 
HasAnnotation 
( 
$str /
,/ 0
$str1 8
)8 9
. 
HasAnnotation 
( 
$str B
,B C,
 SqlServerValueGenerationStrategyD d
.d e
IdentityColumne s
)s t
;t u
modelBuilder 
. 
Entity 
(  
$str  I
,I J
bK L
=>M O
{ 
b 
. 
Property 
< 
string %
>% &
(& '
$str' +
)+ ,
. 
ValueGeneratedOnAdd ,
(, -
)- .
;. /
b 
. 
Property 
< 
int "
>" #
(# $
$str$ 7
)7 8
;8 9
b 
. 
Property 
< 
string %
>% &
(& '
$str' 9
)9 :
. 
IsConcurrencyToken +
(+ ,
), -
;- .
b 
. 
Property 
< 
string %
>% &
(& '
$str' .
). /
. 
HasMaxLength %
(% &
$num& )
)) *
;* +
b   
.   
Property   
<   
bool   #
>  # $
(  $ %
$str  % 5
)  5 6
;  6 7
b"" 
."" 
Property"" 
<"" 
bool"" #
>""# $
(""$ %
$str""% 5
)""5 6
;""6 7
b$$ 
.$$ 
Property$$ 
<$$ 
DateTimeOffset$$ -
?$$- .
>$$. /
($$/ 0
$str$$0 <
)$$< =
;$$= >
b&& 
.&& 
Property&& 
<&& 
string&& %
>&&% &
(&&& '
$str&&' 8
)&&8 9
.'' 
HasMaxLength'' %
(''% &
$num''& )
)'') *
;''* +
b)) 
.)) 
Property)) 
<)) 
string)) %
>))% &
())& '
$str))' ;
))); <
.** 
HasMaxLength** %
(**% &
$num**& )
)**) *
;*** +
b,, 
.,, 
Property,, 
<,, 
string,, %
>,,% &
(,,& '
$str,,' 5
),,5 6
;,,6 7
b.. 
... 
Property.. 
<.. 
string.. %
>..% &
(..& '
$str..' 4
)..4 5
;..5 6
b00 
.00 
Property00 
<00 
bool00 #
>00# $
(00$ %
$str00% ;
)00; <
;00< =
b22 
.22 
Property22 
<22 
string22 %
>22% &
(22& '
$str22' 6
)226 7
;227 8
b44 
.44 
Property44 
<44 
bool44 #
>44# $
(44$ %
$str44% 7
)447 8
;448 9
b66 
.66 
Property66 
<66 
string66 %
>66% &
(66& '
$str66' 1
)661 2
.77 
HasMaxLength77 %
(77% &
$num77& )
)77) *
;77* +
b99 
.99 
HasKey99 
(99 
$str99 !
)99! "
;99" #
b;; 
.;; 
HasIndex;; 
(;; 
$str;; 0
);;0 1
.<< 
HasName<<  
(<<  !
$str<<! -
)<<- .
;<<. /
b>> 
.>> 
HasIndex>> 
(>> 
$str>> 3
)>>3 4
.?? 
IsUnique?? !
(??! "
)??" #
.@@ 
HasName@@  
(@@  !
$str@@! 0
)@@0 1
;@@1 2
bBB 
.BB 
ToTableBB 
(BB 
$strBB +
)BB+ ,
;BB, -
}CC 
)CC 
;CC 
modelBuilderEE 
.EE 
EntityEE 
(EE  
$strEE  `
,EE` a
bEEb c
=>EEd f
{FF 
bGG 
.GG 
PropertyGG 
<GG 
stringGG %
>GG% &
(GG& '
$strGG' +
)GG+ ,
.HH 
ValueGeneratedOnAddHH ,
(HH, -
)HH- .
;HH. /
bJJ 
.JJ 
PropertyJJ 
<JJ 
stringJJ %
>JJ% &
(JJ& '
$strJJ' 9
)JJ9 :
.KK 
IsConcurrencyTokenKK +
(KK+ ,
)KK, -
;KK- .
bMM 
.MM 
PropertyMM 
<MM 
stringMM %
>MM% &
(MM& '
$strMM' -
)MM- .
.NN 
HasMaxLengthNN %
(NN% &
$numNN& )
)NN) *
;NN* +
bPP 
.PP 
PropertyPP 
<PP 
stringPP %
>PP% &
(PP& '
$strPP' 7
)PP7 8
.QQ 
HasMaxLengthQQ %
(QQ% &
$numQQ& )
)QQ) *
;QQ* +
bSS 
.SS 
HasKeySS 
(SS 
$strSS !
)SS! "
;SS" #
bUU 
.UU 
HasIndexUU 
(UU 
$strUU /
)UU/ 0
.VV 
IsUniqueVV !
(VV! "
)VV" #
.WW 
HasNameWW  
(WW  !
$strWW! 0
)WW0 1
;WW1 2
bYY 
.YY 
ToTableYY 
(YY 
$strYY +
)YY+ ,
;YY, -
}ZZ 
)ZZ 
;ZZ 
modelBuilder\\ 
.\\ 
Entity\\ 
(\\  
$str\\  m
,\\m n
b\\o p
=>\\q s
{]] 
b^^ 
.^^ 
Property^^ 
<^^ 
int^^ "
>^^" #
(^^# $
$str^^$ (
)^^( )
.__ 
ValueGeneratedOnAdd__ ,
(__, -
)__- .
;__. /
baa 
.aa 
Propertyaa 
<aa 
stringaa %
>aa% &
(aa& '
$straa' 2
)aa2 3
;aa3 4
bcc 
.cc 
Propertycc 
<cc 
stringcc %
>cc% &
(cc& '
$strcc' 3
)cc3 4
;cc4 5
bee 
.ee 
Propertyee 
<ee 
stringee %
>ee% &
(ee& '
$stree' /
)ee/ 0
.ff 

IsRequiredff #
(ff# $
)ff$ %
;ff% &
bhh 
.hh 
HasKeyhh 
(hh 
$strhh !
)hh! "
;hh" #
bjj 
.jj 
HasIndexjj 
(jj 
$strjj '
)jj' (
;jj( )
bll 
.ll 
ToTablell 
(ll 
$strll 0
)ll0 1
;ll1 2
}mm 
)mm 
;mm 
modelBuilderoo 
.oo 
Entityoo 
(oo  
$stroo  m
,oom n
booo p
=>ooq s
{pp 
bqq 
.qq 
Propertyqq 
<qq 
intqq "
>qq" #
(qq# $
$strqq$ (
)qq( )
.rr 
ValueGeneratedOnAddrr ,
(rr, -
)rr- .
;rr. /
btt 
.tt 
Propertytt 
<tt 
stringtt %
>tt% &
(tt& '
$strtt' 2
)tt2 3
;tt3 4
bvv 
.vv 
Propertyvv 
<vv 
stringvv %
>vv% &
(vv& '
$strvv' 3
)vv3 4
;vv4 5
bxx 
.xx 
Propertyxx 
<xx 
stringxx %
>xx% &
(xx& '
$strxx' /
)xx/ 0
.yy 

IsRequiredyy #
(yy# $
)yy$ %
;yy% &
b{{ 
.{{ 
HasKey{{ 
({{ 
$str{{ !
){{! "
;{{" #
b}} 
.}} 
HasIndex}} 
(}} 
$str}} '
)}}' (
;}}( )
b 
. 
ToTable 
( 
$str 0
)0 1
;1 2
}
 
)
 
;
 
modelBuilder
 
.
 
Entity
 
(
  
$str
  m
,
m n
b
o p
=>
q s
{
 
b
 
.
 
Property
 
<
 
string
 %
>
% &
(
& '
$str
' 6
)
6 7
;
7 8
b
 
.
 
Property
 
<
 
string
 %
>
% &
(
& '
$str
' 4
)
4 5
;
5 6
b
 
.
 
Property
 
<
 
string
 %
>
% &
(
& '
$str
' <
)
< =
;
= >
b
 
.
 
Property
 
<
 
string
 %
>
% &
(
& '
$str
' /
)
/ 0
.
 

IsRequired
 #
(
# $
)
$ %
;
% &
b
 
.
 
HasKey
 
(
 
$str
 ,
,
, -
$str
. ;
)
; <
;
< =
b
 
.
 
HasIndex
 
(
 
$str
 '
)
' (
;
( )
b
 
.
 
ToTable
 
(
 
$str
 0
)
0 1
;
1 2
}
 
)
 
;
 
modelBuilder
 
.
 
Entity
 
(
  
$str
  l
,
l m
b
n o
=>
p r
{
 
b
 
.
 
Property
 
<
 
string
 %
>
% &
(
& '
$str
' /
)
/ 0
;
0 1
b
 
.
 
Property
 
<
 
string
 %
>
% &
(
& '
$str
' /
)
/ 0
;
0 1
b
 
.
 
HasKey
 
(
 
$str
 %
,
% &
$str
' /
)
/ 0
;
0 1
b
 
.
 
HasIndex
 
(
 
$str
 '
)
' (
;
( )
b
 
.
 
ToTable
 
(
 
$str
 /
)
/ 0
;
0 1
}
 
)
 
;
 
modelBuilder
¡¡ 
.
¡¡ 
Entity
¡¡ 
(
¡¡  
$str
¡¡  m
,
¡¡m n
b
¡¡o p
=>
¡¡q s
{
¢¢ 
b
££ 
.
££ 
Property
££ 
<
££ 
string
££ %
>
££% &
(
££& '
$str
££' /
)
££/ 0
;
££0 1
b
¥¥ 
.
¥¥ 
Property
¥¥ 
<
¥¥ 
string
¥¥ %
>
¥¥% &
(
¥¥& '
$str
¥¥' 6
)
¥¥6 7
;
¥¥7 8
b
§§ 
.
§§ 
Property
§§ 
<
§§ 
string
§§ %
>
§§% &
(
§§& '
$str
§§' -
)
§§- .
;
§§. /
b
©© 
.
©© 
Property
©© 
<
©© 
string
©© %
>
©©% &
(
©©& '
$str
©©' .
)
©©. /
;
©©/ 0
b
«« 
.
«« 
HasKey
«« 
(
«« 
$str
«« %
,
««% &
$str
««' 6
,
««6 7
$str
««8 >
)
««> ?
;
««? @
b
­­ 
.
­­ 
ToTable
­­ 
(
­­ 
$str
­­ 0
)
­­0 1
;
­­1 2
}
®® 
)
®® 
;
®® 
modelBuilder
°° 
.
°° 
Entity
°° 
(
°°  
$str
°°  m
,
°°m n
b
°°o p
=>
°°q s
{
±± 
b
²² 
.
²² 
HasOne
²² 
(
²² 
$str
²² ]
)
²²] ^
.
³³ 
WithMany
³³ !
(
³³! "
$str
³³" *
)
³³* +
.
´´ 
HasForeignKey
´´ &
(
´´& '
$str
´´' /
)
´´/ 0
.
µµ 
OnDelete
µµ !
(
µµ! "
DeleteBehavior
µµ" 0
.
µµ0 1
Cascade
µµ1 8
)
µµ8 9
;
µµ9 :
}
¶¶ 
)
¶¶ 
;
¶¶ 
modelBuilder
¸¸ 
.
¸¸ 
Entity
¸¸ 
(
¸¸  
$str
¸¸  m
,
¸¸m n
b
¸¸o p
=>
¸¸q s
{
¹¹ 
b
ºº 
.
ºº 
HasOne
ºº 
(
ºº 
$str
ºº F
)
ººF G
.
»» 
WithMany
»» !
(
»»! "
$str
»»" *
)
»»* +
.
¼¼ 
HasForeignKey
¼¼ &
(
¼¼& '
$str
¼¼' /
)
¼¼/ 0
.
½½ 
OnDelete
½½ !
(
½½! "
DeleteBehavior
½½" 0
.
½½0 1
Cascade
½½1 8
)
½½8 9
;
½½9 :
}
¾¾ 
)
¾¾ 
;
¾¾ 
modelBuilder
ÀÀ 
.
ÀÀ 
Entity
ÀÀ 
(
ÀÀ  
$str
ÀÀ  m
,
ÀÀm n
b
ÀÀo p
=>
ÀÀq s
{
ÁÁ 
b
ÂÂ 
.
ÂÂ 
HasOne
ÂÂ 
(
ÂÂ 
$str
ÂÂ F
)
ÂÂF G
.
ÃÃ 
WithMany
ÃÃ !
(
ÃÃ! "
$str
ÃÃ" *
)
ÃÃ* +
.
ÄÄ 
HasForeignKey
ÄÄ &
(
ÄÄ& '
$str
ÄÄ' /
)
ÄÄ/ 0
.
ÅÅ 
OnDelete
ÅÅ !
(
ÅÅ! "
DeleteBehavior
ÅÅ" 0
.
ÅÅ0 1
Cascade
ÅÅ1 8
)
ÅÅ8 9
;
ÅÅ9 :
}
ÆÆ 
)
ÆÆ 
;
ÆÆ 
modelBuilder
ÈÈ 
.
ÈÈ 
Entity
ÈÈ 
(
ÈÈ  
$str
ÈÈ  l
,
ÈÈl m
b
ÈÈn o
=>
ÈÈp r
{
ÉÉ 
b
ÊÊ 
.
ÊÊ 
HasOne
ÊÊ 
(
ÊÊ 
$str
ÊÊ ]
)
ÊÊ] ^
.
ËË 
WithMany
ËË !
(
ËË! "
$str
ËË" )
)
ËË) *
.
ÌÌ 
HasForeignKey
ÌÌ &
(
ÌÌ& '
$str
ÌÌ' /
)
ÌÌ/ 0
.
ÍÍ 
OnDelete
ÍÍ !
(
ÍÍ! "
DeleteBehavior
ÍÍ" 0
.
ÍÍ0 1
Cascade
ÍÍ1 8
)
ÍÍ8 9
;
ÍÍ9 :
b
ÏÏ 
.
ÏÏ 
HasOne
ÏÏ 
(
ÏÏ 
$str
ÏÏ F
)
ÏÏF G
.
ÐÐ 
WithMany
ÐÐ !
(
ÐÐ! "
$str
ÐÐ" )
)
ÐÐ) *
.
ÑÑ 
HasForeignKey
ÑÑ &
(
ÑÑ& '
$str
ÑÑ' /
)
ÑÑ/ 0
.
ÒÒ 
OnDelete
ÒÒ !
(
ÒÒ! "
DeleteBehavior
ÒÒ" 0
.
ÒÒ0 1
Cascade
ÒÒ1 8
)
ÒÒ8 9
;
ÒÒ9 :
}
ÓÓ 
)
ÓÓ 
;
ÓÓ 
}
ÔÔ 	
}
ÕÕ 
}ÖÖ Ã
WC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Logging\LoggerAdapter.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Logging, 3
{ 
public 

class 
LoggerAdapter 
< 
T  
>  !
:" #

IAppLogger$ .
<. /
T/ 0
>0 1
{ 
private 
readonly 
ILogger  
<  !
T! "
>" #
_logger$ +
;+ ,
public		 
LoggerAdapter		 
(		 
ILoggerFactory		 +
loggerFactory		, 9
)		9 :
{

 	
_logger 
= 
loggerFactory #
.# $
CreateLogger$ 0
<0 1
T1 2
>2 3
(3 4
)4 5
;5 6
} 	
public 
void 

LogWarning 
( 
string %
message& -
,- .
params/ 5
object6 <
[< =
]= >
args? C
)C D
{ 	
_logger 
. 

LogWarning 
( 
message &
,& '
args( ,
), -
;- .
} 	
public 
void 
LogInformation "
(" #
string# )
message* 1
,1 2
params3 9
object: @
[@ A
]A B
argsC G
)G H
{ 	
_logger 
. 
LogInformation "
(" #
message# *
,* +
args, 0
)0 1
;1 2
} 	
} 
} 
VC:\Users\Bus209\Documents\htdocs\eShopOnWeb\src\Infrastructure\Services\EmailSender.cs
	namespace 	
	Microsoft
 
. 
eShopWeb 
. 
Infrastructure +
.+ ,
Services, 4
{ 
public 

class 
EmailSender 
: 
IEmailSender +
{		 
public

 
Task

 
SendEmailAsync

 "
(

" #
string

# )
email

* /
,

/ 0
string

1 7
subject

8 ?
,

? @
string

A G
message

H O
)

O P
{ 	
return 
Task 
. 
CompletedTask %
;% &
} 	
} 
} 